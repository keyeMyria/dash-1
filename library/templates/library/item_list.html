{% extends "layouts/base.html" %}
{% load static crispy_forms_tags %}
{% load render_table from django_tables2 %}

{% block extra_css %}
<link href="{% static 'css/plugins/dataTables/datatables.min.css' %}" rel="stylesheet">
<link href="{% static 'css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css' %}" rel="stylesheet">
<link href="{% static 'css/plugins/chosen/bootstrap-chosen.css' %}" rel="stylesheet">

{% endblock extra_css %}

{% block title %} 资料中心 {% endblock title %} 
{% block page_heading %}
<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-sm-10">
    <h2>{{ object.title }}</h2>
    <ol class="breadcrumb">
      <li>
        <a href="#">资料管理</a>
      </li>
      <li class="active">
          <strong>资料中心</strong>
      </li>
    </ol>
  </div>
</div>
{% endblock %}

{% block content %}
<div class="ibox-content m-b-sm border-bottom">

  <div class="row">
    <form action="" method="get">
      <div class="col-lg-12">
        {% crispy search_form %}
        <div class="hr-line-dashed"></div>
      </div>

      <div class="col-lg-6">
        <p style="">过滤选项</p>
        <div class="form-inline">
          {% crispy filter.form %}
        </div>
      </div>
    </form>
  </div>
  <!-- end row-->
</div>
<!-- end ibox -->

<div class="ibox">
  <div class="ibox-content">

    <div class="table-responsive">
      {% render_table table "tables2/table.html" %}
    </div>
  </div>
</div>


{% endblock content %} 

{% block extra_js %}
<script src="{% static 'js/plugins/dataTables/datatables.min.js' %}"></script>
<!-- iCheck -->
<script src="{% static 'js/plugins/iCheck/icheck.min.js' %}"></script>
<!-- Chosen -->
<script src="{% static 'js/plugins/chosen/chosen.jquery.js' %}"></script>
<script>
  $(document).ready(function() {
    $('.my-table').DataTable({
      language: {
        url: '//cdn.datatables.net/plug-ins/1.10.16/i18n/Chinese.json'
      },
      pageLength: 25,
      responsive: true,
      dom: '<"html5buttons"B>lTfgitp',
      buttons: [{
          extend: 'copy'
        },
        {
          extend: 'csv',
          title: '客户资料'
        },
        {
          extend: 'excel',
          title: '客户资料'
        },
        {
          extend: 'pdf',
          title: '客户资料'
        },

        {
          extend: 'print',
          customize: function(win) {
            $(win.document.body).addClass('white-bg');
            $(win.document.body).css('font-size', '10px');

            $(win.document.body).find('table')
              .addClass('compact')
              .css('font-size', 'inherit');
          }
        }
      ]

    });



  });
</script>
{% endblock extra_js %}
